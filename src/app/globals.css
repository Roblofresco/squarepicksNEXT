/* Disable sport tab clicks during Step 1 */
.tour-step1 [data-sport-tab] { pointer-events: none !important; }

/* Driver.js popover theming to match app */
/* Increase specificity and force background to override driver.css */
body .driver-popover {
  background: linear-gradient(to bottom, rgba(10,10,14,0.94), rgba(16,16,22,0.94)) !important;
  color: #fff !important;
  border: 1px solid rgba(255,255,255,0.14) !important;
  backdrop-filter: blur(10px) !important;
  box-shadow: 0 10px 30px rgba(0,0,0,0.55), 0 0 0 1px rgba(255,255,255,0.08) inset !important;
  border-radius: 12px !important;
}
body .driver-popover .driver-popover-title {
  color: #ffffff !important;
  font-weight: 700;
}
body .driver-popover .driver-popover-description {
  color: rgba(255,255,255,0.9) !important;
}
body .driver-popover .driver-popover-close-btn {
  color: rgba(255,255,255,0.7) !important;
}
/* Hide close to enforce dialog-only control during tour */
body .driver-popover .driver-popover-close-btn { display: none !important; }
/* Lock all sport tabs when tour lock is active */
.tour-lock [data-sport-tab] { pointer-events: none !important; }
/* Allow only whitelisted buttons during tour */
.tour-lock [data-tour-allow] { pointer-events: auto !important; }
body .driver-popover .driver-popover-progress-text { display: none !important; }
body .driver-popover .driver-popover-navigation-btns button {
  background: linear-gradient(90deg, #1bb0f2, #6366f1) !important;
  border: 1px solid rgba(255,255,255,0.22) !important;
  color: #ffffff !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  filter: none !important;
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
}
body .driver-popover .driver-popover-navigation-btns button:hover {
  filter: brightness(1.1);
}
body .driver-popover .driver-popover-arrow { filter: drop-shadow(0 2px 4px rgba(0,0,0,0.6)); }
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Font fallbacks for Edge compatibility - Fonts now loaded in HTML head */

/* Reset complete */

@layer base {
  /* Define CSS variables for colors based on theme */
  :root {
    --color-background-primary: 10 14 27; /* Updated Hex: #0a0e1b */
    --color-background-secondary: 31 41 55; /* Updated Hex: #1f2937 */
    --color-text-primary: 238 238 238; /* Updated Hex: #eeeeee */
    --color-text-secondary: 100 116 139; /* Updated Hex: #64748b */
    --color-primary: 29 78 216; /* Blue for primary buttons */
    --color-primary-foreground: 255 255 255; /* White text on primary buttons */
    --color-secondary: 100 116 139; /* Gray for secondary buttons */
    --color-secondary-foreground: 255 255 255; /* White text on secondary buttons */
    --color-destructive: 239 68 68; /* Red for destructive actions */
    --color-ring: 59 130 246; /* Blue for focus rings */
  }

  .dark {
    /* Dark theme uses the same variables */
    --color-background-primary: 10 14 27; /* Updated Hex: #0a0e1b */
    --color-background-secondary: 31 41 55; /* Updated Hex: #1f2937 */
    --color-text-primary: 238 238 238; /* Updated Hex: #eeeeee */
    --color-text-secondary: 100 116 139; /* Updated Hex: #64748b */
    --color-primary: 29 78 216; /* Blue for primary buttons */
    --color-primary-foreground: 255 255 255; /* White text on primary buttons */
    --color-secondary: 100 116 139; /* Gray for secondary buttons */
    --color-secondary-foreground: 255 255 255; /* White text on secondary buttons */
    --color-destructive: 239 68 68; /* Red for destructive actions */
    --color-ring: 59 130 246; /* Blue for focus rings */
  }

  /* Apply base body styles */
  body {
    background-color: rgb(var(--color-background-primary));
    color: rgb(var(--color-text-primary));
    font-family: var(--font-epilogue), -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

/* Define the tumbling animation */
@keyframes tumble {
  0% {
    transform: translateX(-150%) rotate(-90deg);
    opacity: 0;
  }
  25% {
      opacity: 1;
  }
  75% {
    transform: translateX(150%) rotate(270deg);
    opacity: 1;
  }
  100% {
    transform: translateX(200%) rotate(360deg);
    opacity: 0;
  }
}

/* Add rule for no-scroll class - make it more specific */
html.no-scroll-html,
body.no-scroll {
  overflow: hidden !important;
}

@layer utilities {
  .font-stencil {
    font-family: 'Big Shoulders Stencil Text', Arial, sans-serif;
  }
  
  .text-shadow-glow {
    /* Reduced opacity for a subtler glow */
    text-shadow: 0 0 8px rgba(255, 255, 255, 0.5), 0 0 12px rgba(0, 178, 255, 0.2);
  }

  /* Hide scrollbar for Chrome, Safari and Opera */
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Hide scrollbar for IE, Edge and Firefox */
  .scrollbar-hide {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
  }
}

/* --- Add New Keyframes and Animation Utility --- */
@keyframes pulse-glow {
  0%, 100% {
    opacity: 0.7;
    box-shadow: 0 0 10px 2px rgba(27, 176, 242, 0.3); /* Less intense accent-1 shadow */
  }
  50% {
    opacity: 1;
    box-shadow: 0 0 25px 5px rgba(27, 176, 242, 0.5); /* More intense accent-1 shadow */
  }
}

@layer utilities {
  .animate-pulse-glow {
    animation: pulse-glow 4s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }
}

@keyframes shake {
  0%, 100% { transform: translateX(0); }
  20%, 60% { transform: translateX(-8px); }
  40%, 80% { transform: translateX(8px); }
}
.animate-shake {
  animation: shake 0.5s;
}
/* --- End Add --- */

/* Constellation Background Styles were here - REMOVED */

/* Desktop-only clean scrollbar */
@layer utilities {
  /* Base custom scrollbar for modern browsers */
  .scrollbar-clean {
    scrollbar-width: thin; /* Firefox */
  }
  @media (min-width: 768px) {
    .scrollbar-clean {
      scrollbar-color: rgba(255, 255, 255, 0.35) rgba(255, 255, 255, 0.12); /* thumb track */
    }
    .scrollbar-clean::-webkit-scrollbar {
      height: 8px; /* horizontal scrollbars */
      width: 8px;  /* vertical (if any) */
    }
    .scrollbar-clean::-webkit-scrollbar-track {
      background: rgba(255, 255, 255, 0.08);
      border-radius: 9999px;
    }
    .scrollbar-clean::-webkit-scrollbar-thumb {
      background: rgba(255, 255, 255, 0.28);
      border-radius: 9999px;
      border: 1px solid rgba(255, 255, 255, 0.15);
    }
    .scrollbar-clean::-webkit-scrollbar-thumb:hover {
      background: rgba(255, 255, 255, 0.4);
    }
  }
  /* Hide on mobile to keep UI minimal */
  @media (max-width: 767px) {
    .scrollbar-clean {
      -ms-overflow-style: none; /* IE and Edge */
      scrollbar-width: none;     /* Firefox */
    }
    .scrollbar-clean::-webkit-scrollbar {
      display: none;             /* Chrome, Safari, Opera */
    }
  }
}

/* Show scrollbar only on hover (desktop), keep layout space reserved to avoid movement */
@layer utilities {
  .scrollbar-hover-only {
    scrollbar-width: thin; /* Reserve space on Firefox */
  }
  .scrollbar-hover-only::-webkit-scrollbar {
    height: 8px; /* Reserve space on WebKit */
    width: 8px;
  }
  /* Start fully transparent; fade in visuals on hover */
  .scrollbar-hover-only::-webkit-scrollbar-track {
    background: transparent;
  }
  .scrollbar-hover-only::-webkit-scrollbar-thumb {
    background: transparent;
    border: 1px solid transparent;
  }
  @media (min-width: 768px) {
    .scrollbar-hover-only:hover::-webkit-scrollbar-track {
      background: linear-gradient(180deg, rgba(255,255,255,0.10), rgba(255,255,255,0.05));
    }
    .scrollbar-hover-only:hover::-webkit-scrollbar-thumb {
      background: linear-gradient(180deg, rgba(255,255,255,0.55), rgba(255,255,255,0.25));
      border: 1px solid rgba(255,255,255,0.2);
    }
  }
}

/* Fade-in scrollbar visuals for hover without layout shift */
@layer utilities {
  .scrollbar-fade::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0); /* transparent initially */
    transition: background 180ms ease;
  }
  .scrollbar-fade::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0); /* transparent initially */
    border-radius: 9999px;
    border: 1px solid rgba(255, 255, 255, 0);
    transition: background 180ms ease, border-color 180ms ease, box-shadow 180ms ease;
  }
  @media (min-width: 768px) {
    .scrollbar-fade:hover::-webkit-scrollbar-track {
      background: linear-gradient(180deg, rgba(255,255,255,0.10), rgba(255,255,255,0.05));
    }
    .scrollbar-fade:hover::-webkit-scrollbar-thumb {
      background: linear-gradient(180deg, rgba(255,255,255,0.55), rgba(255,255,255,0.25));
      border-color: rgba(255, 255, 255, 0.2);
      box-shadow: 0 2px 8px rgba(0,0,0,0.25), inset 0 0 0 1px rgba(255,255,255,0.2);
    }
  }
}

/* Glass styling helpers applied with scrollbar-glass */
@layer utilities {
  .scrollbar-glass::-webkit-scrollbar-track {
    border-radius: 9999px;
    box-shadow: inset 0 0 0 1px rgba(255,255,255,0.06);
  }
  .scrollbar-glass::-webkit-scrollbar-thumb {
    border-radius: 9999px;
    border: 1px solid rgba(255,255,255,0.18);
  }
  /* Firefox approximations */
  @media (min-width: 768px) {
    .scrollbar-glass.scrollbar-hover-only:hover {
      scrollbar-color: rgba(255,255,255,0.55) rgba(255,255,255,0.10);
    }
  }
}

/* --- Glass card + subtle glow helpers --- */
@layer utilities {
  .glass {
    background-color: rgba(255,255,255,0.05);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(255,255,255,0.08);
    box-shadow: 0 8px 30px rgba(0,0,0,0.2);
    position: relative;
  }
  .glass::before {
    content: "";
    position: absolute;
    inset: 0;
    pointer-events: none;
    border: 1px solid rgba(255,255,255,0.06);
    border-radius: inherit;
  }
  .radial-glow-top {
    position: absolute;
    inset-inline: 0;
    top: -24px;
    height: 96px;
    background: radial-gradient(ellipse at top, rgba(27,176,242,0.20), rgba(27,176,242,0) 60%);
    pointer-events: none;
  }
  .chip {
    padding: 2px 6px;
    border-radius: 6px;
    background: rgba(255,255,255,0.08);
    border: 1px solid rgba(255,255,255,0.18);
    font-size: 11px;
    line-height: 1rem;
  }
  .chip-gold {
    background: linear-gradient(135deg,#FFD76A,#E7B844);
    color: #0d0d0d;
    border: 1px solid rgba(231,184,68,0.9);
    box-shadow: 0 0 12px rgba(231,184,68,0.45);
  }
}
